<div class="page-title">
  <h4>
    Добавить файл
  </h4>
</div>

<form
  [formGroup]="form"
  (ngSubmit)="onSubmit()"
  class="row"
>
  <div class="col s12 l4">
    <div class="input-field">
      <input
        id="name"
        type="text"
        formControlName="name"
        [ngClass]="{'invalid': form.get('name').invalid && form.get('name').touched}"
      >
      <label for="name">Название</label>
      <span
        class="helper-text red-text"
        *ngIf="form.get('name').invalid && form.get('name').touched"
      >
          <span *ngIf="form.get('name').errors['required']">Имя файла не должно быть пустым</span>
      </span>
    </div>

    <h5 class="col s12 left" *ngIf="fileNamePreview">
      Файл: {{fileNamePreview}}
    </h5>

    <div>
      <input
        (change)="onFileUpload($event)"
        type="file"
        class="dn"
        #input
      >
      <button
        (click)="triggerClick()"
        [disabled]="form.disabled"
        type ="button"
        class="waves-effect waves-light btn orange lighten-2 mb2"
      >
        Загрузить файл
      </button>
    </div>

    <div>
      <button
        type="submit"
        class="waves-effect waves-light btn"
        [disabled]="form.disabled || form.invalid"
      >
        Загрузить файл
      </button>
    </div>
  </div>
</form>
